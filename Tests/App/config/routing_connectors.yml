smartbox_integration_platform:
    resource: "@SmartboxIntegrationFrameworkBundle/Resources/config/default_connector_routes.yml"
    prefix:   /

queues.stomp:
  pattern: "stomp://{host}/{queue}"
  defaults:
    _connector: @smartesb.connectors.queue
    queue_driver: @smartesb.drivers.main
    prefix: "test/camelconfig/"
    persistent: false     # For the tests we don't really want to persist our messages

  requirements:
    queue: "[a-zA-Z0-9/]+"

queues.generic:
  pattern: "queue://{host}/{queue}"
  defaults:
    _connector: @smartesb.connectors.queue
    queue_driver: @smartesb.drivers.main
    prefix: "test/camelconfig/"
    persistent: false    # For the tests we don't really want to persist our messages

  requirements:
    queue: "[a-zA-Z0-9/]+"

## For testing purposes
test:
  pattern: "test://{host}/{path}"
  defaults:
    _connector: @smartesb.connector.direct
  requirements:
    path: "[a-zA-Z0-9/]+"

helper:
  pattern: "helper://{host}/{operation}/{operand}"
  defaults:
    _connector: @connector.helper

spy:
  pattern: "spy://{host}/{path}"
  defaults:
    _connector: @connector.spy
  requirements:
    path: "[a-zA-Z0-9/_-]+"

error.triggerer.recoverable:
  pattern: "error://recoverable"
  defaults:
    _connector: @connector.error.triggerer
    recoverable: true

error.triggerer.unrecoverable:
  pattern: "error://unrecoverable"
  defaults:
    _connector: @connector.error.triggerer